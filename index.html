<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fresh Squeeze - Healthy Juices</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        .product-card {
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .health-benefit {
            font-size: 0.9rem;
            color: #28a745;
            font-style: italic;
        }

        .cart-item {
            border-bottom: 1px solid #eee;
            padding: 10px 0;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .nav-link {
            color: #333;
        }

        .nav-link:hover {
            color: #28a745;
        }

        .btn-primary {
            background-color: #28a745;
            border-color: #28a745;
        }

        .btn-primary:hover {
            background-color: #218838;
            border-color: #1e7e34;
        }

        .shop-address {
            margin-bottom: 1rem;
        }

        .payment-icon {
            font-size: 2rem;
            margin: 0 10px;
        }

        .payment-icon.fa-cc-visa {
            color: #1a1f71;
            /* Visa brand blue */
        }

        .payment-icon.fa-cc-mastercard {
            color: #eb001b;
            /* Mastercard red */
        }

        .payment-icon.fa-weixin {
            color: #07C160;
            /* WeChat green */
        }

        .payment-icon.fa-alipay {
            color: #00A1E9;
            /* Alipay blue */
        }

        .bg-gradient-success {
            background: linear-gradient(180deg, #4de871 0%, #144d21 100%);
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-apple-alt text-success mr-2"></i>Fresh Squeeze
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#products">Products</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#shops">Our Shops</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About Us</a>
                    </li>
                </ul>
                <button class="btn btn-outline-success my-2 my-sm-0" data-toggle="modal" data-target="#cartModal">
                    <i class="fas fa-shopping-cart mr-1"></i> Cart (<span id="cart-count">0</span>)
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="jumbotron jumbotron-fluid bg-gradient-success text-white">
        <div class="container text-center">
            <h1 class="display-4">Natural, Healthy & Tasty Juices</h1>
            <p class="lead">Handcrafted with love by our three founding members using 100% natural fruits</p>
            <a href="#products" class="btn btn-light btn-lg mt-3">Explore Our Juices</a>
        </div>
    </div>

    <!-- About Section -->
    <section id="about" class="py-5">
        <div class="container">
            <!-- <div class="row"> -->
            <div class="col-md-12">
                <h2>Our Story</h2>
                <p class="lead">Founded by three passionate health enthusiasts, we believe in the power of natural
                    ingredients to nourish the body and delight the taste buds.</p>
                <p>Every juice is carefully crafted to deliver maximum nutritional benefits while maintaining incredible
                    flavor. We source only the finest fruits and ingredients to create our unique blends.</p>
                <p>Visit any of our three Hong Kong shops or order online for delivery. In-store customers can scan our
                    QR code to order directly from our website!</p>
            </div>
            <div class="col-md-12">
                <video width=100% height=auto autoplay muted playsinline loop>
                    <source src="./Image/brand-video.mp4" type="video/mp4">
                    <!-- <source src="./Image/brand-video.mp4" type="video/ogg"> //not support by browser-->
                </video>
            </div>
        </div>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-5">Our Signature Juices</h2>
            <div class="row" id="products-container">
                <!-- Products will be generated here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Shops Section -->
    <section id="shops" class="py-5">
        <div class="container">
            <h2 class="text-center mb-5">Our Hong Kong Shops</h2>
            <div class="row">
                <div class="col-md-4 shop-address">
                    <h4>Causeway Bay</h4>
                    <p>123 Hennessy Road, Causeway Bay</p>
                    <p>Open: 9am - 9pm daily</p>
                    <p><i class="fas fa-phone"></i> +852 2888 7777</p>
                    <div class="text-center mt-2">
                        <div id="qr-CausewayBay" aria-label="QR code for Causeway Bay" style="display:inline-block">
                        </div>
                        <div><a href="#" class="btn btn-sm btn-light mt-2 order-online" data-shop="CausewayBay">Order
                                Online</a></div>
                    </div>
                </div>
                <div class="col-md-4 shop-address">
                    <h4>Mong Kok</h4>
                    <p>456 Nathan Road, Mong Kok</p>
                    <p>Open: 8am - 10pm daily</p>
                    <p><i class="fas fa-phone"></i> +852 2333 8888</p>
                    <div class="text-center mt-2">
                        <div id="qr-MongKok" aria-label="QR code for Mong Kok" style="display:inline-block"></div>
                        <div><a href="#" class="btn btn-sm btn-light mt-2 order-online" data-shop="MongKok">Order
                                Online</a></div>
                    </div>
                </div>
                <div class="col-md-4 shop-address">
                    <h4>Central</h4>
                    <p>789 Queen's Road Central</p>
                    <p>Open: 7am - 8pm daily</p>
                    <p><i class="fas fa-phone"></i> +852 2555 6666</p>
                    <div class="text-center mt-2">
                        <div id="qr-Central" aria-label="QR code for Central" style="display:inline-block"></div>
                        <div><a href="#" class="btn btn-sm btn-light mt-2 order-online" data-shop="Central">Order
                                Online</a></div>
                    </div>
                </div>
            </div>
            <div class="text-center mt-4">
                <p class="lead">Scan our QR code in any shop to order directly from your phone!</p>
                <!-- <img src="#" alt="QR Code for ordering" class="img-fluid rounded" style="max-width: 150px;"> -->
            </div>
        </div>
    </section>

    <!-- Delivery & Payment Section -->
    <section class="py-5 bg-gradient-success text-white">
        <div class="container text-center">
            <h2>Delivery & Payment Options</h2>
            <p class="lead mb-4">We deliver across Hong Kong. Choose your preferred payment method:</p>
            <div class="d-flex justify-content-center flex-wrap">
                <i class="fab fa-cc-visa payment-icon"></i>
                <i class="fab fa-cc-mastercard payment-icon"></i>
                <i class="fab fa-weixin payment-icon"></i>
                <i class="fab fa-alipay payment-icon"></i>
                <!-- <span class="payment-icon"><i class="fas fa-credit-card"></i> Octopus</span> -->

            </div>
            <hr>
            <div class="row justify-content-center">
                <div class="col-md-6 text-center">
                    <p>&copy; 2025 Fresh Squeeze. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-center">
                    <a href="#" class="text-white mx-2"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="text-white mx-2"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-white mx-2"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
    </section>


    <!-- Product Modal -->
    <div class="modal fade" id="productModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal-product-title"></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <img id="modal-product-image" src="" alt="" class="img-fluid rounded">
                        </div>
                        <div class="col-md-6">
                            <p id="modal-product-description" class="health-benefit"></p>

                            <div class="form-group mt-4">
                                <label>Cup Size</label>
                                <div class="form-check">
                                    <input class="form-check-input cup-size" type="radio" name="cupSize" value="30"
                                        checked>
                                    <label class="form-check-label">Small - HK$30</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input cup-size" type="radio" name="cupSize" value="40">
                                    <label class="form-check-label">Medium - HK$40</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input cup-size" type="radio" name="cupSize" value="50">
                                    <label class="form-check-label">Large - HK$50</label>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Sugar Level</label>
                                <select class="form-control" id="sugar-level">
                                    <option value="0%">0%</option>
                                    <option value="25%">25%</option>
                                    <option value="50%">50%</option>
                                    <option value="75%">75%</option>
                                    <option value="100%">100%</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Ice Level</label>
                                <select class="form-control" id="ice-level">
                                    <option value="0%">0%</option>
                                    <option value="25%">25%</option>
                                    <option value="50%">50%</option>
                                    <option value="75%">75%</option>
                                    <option value="100%">100%</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Special Message (Optional)</label>
                                <select class="form-control" id="special-message">
                                    <option value="">None</option>
                                    <option value="Happy Birthday!">Happy Birthday!</option>
                                    <option value="Wonderful Anniversary!">Wonderful Anniversary!</option>
                                    <option value="Get Well Soon!">Get Well Soon!</option>
                                    <option value="Congratulations!">Congratulations!</option>
                                    <option value="Thank You!">Thank You!</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Quantity</label>
                                <input type="number" class="form-control" id="quantity" min="1" value="1">
                            </div>

                            <p class="lead">Total: HK$<span id="modal-total">30</span></p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="add-to-cart">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div class="modal fade" id="cartModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Your Shopping Cart</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="cart-items">
                        <!-- Cart items will be generated here -->
                        <p class="text-center text-muted">Your cart is empty</p>
                    </div>
                    <div class="mt-4">
                        <h5>Total: HK$<span id="cart-total">0</span></h5>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Continue Shopping</button>
                    <button type="button" class="btn btn-primary" id="checkout-btn" disabled>Checkout</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal fade" id="checkoutModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Checkout</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Contact Information</h6>
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label>Phone</label>
                                <input type="tel" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" class="form-control" required>
                            </div>

                            <h6 class="mt-4">Delivery Address (if applicable)</h6>
                            <div class="form-group">
                                <label>Address</label>
                                <input type="text" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Postal Code</label>
                                <input type="text" class="form-control">
                            </div>
                        </div>

                        <div class="col-md-6">
                            <h6>Payment Method</h6>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="payment" value="credit" checked>
                                <label class="form-check-label">Credit Card</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="payment" value="wechat">
                                <label class="form-check-label">WeChat Pay</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="payment" value="alipay">
                                <label class="form-check-label">Alipay</label>
                            </div>
                            <!-- <div class="form-check">
                                <input class="form-check-input" type="radio" name="payment" value="octopus">
                                <label class="form-check-label">Octopus</label>
                            </div> -->

                            <div class="mt-4 p-3 bg-light rounded">
                                <h6>Order Summary</h6>
                                <div id="checkout-summary">
                                    <!-- Summary will be generated here -->
                                </div>
                                <hr>
                                <h6>Total: HK$<span id="checkout-total">0</span></h6>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="place-order">Place Order</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- QRCode library (lightweight) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qr-code-styling@1.5.0/lib/qr-code-styling.min.js"></script>
    <script>
        // Product data
        const products = [
            {
                id: 1,
                name: "Apple Pear Crisp Refresh",
                description: "Packed with fiber and antioxidants to support digestion and boost your immune system.",
                image: "./Image/apple-pear crisp refresh.jpg"
            },
            {
                id: 2,
                name: "Banana Pineapple Energy Surge",
                description: "Natural electrolytes and B vitamins provide instant energy for your active lifestyle.",
                image: "./Image/banana-pineapple energy surge.jpg"

            },
            {
                id: 3,
                name: "Blackberry Sage Evening Smoothy",
                description: "Calming sage combined with anthocyanin-rich blackberries for a relaxing evening treat.",
                image: "./Image/blackberry-sage evening smoothy.jpg"

            },
            {
                id: 4,
                name: "Blueberry Lavender Dream Float",
                description: "Antioxidant-rich blueberries with soothing lavender to reduce stress and promote better sleep.",
                image: "./Image/blueberry-lavender dream float.jpg"
            },
            {
                id: 5,
                name: "Coconut Mango Island Escape",
                description: "Potassium-rich mango and hydrating coconut water to replenish fluids and support heart health.",
                image: "./Image/coconut-mango island escape.jpg"
            },
            {
                id: 6,
                name: "Cranberry Orange Holiday Cheer",
                description: "Vitamin C powerhouses that support immune function and urinary tract health.",
                image: "./Image/cranberry-orange holiday cheer.jpg"
            },
            {
                id: 7,
                name: "Grape Blackberry Velvet Noire",
                description: "Resveratrol from grapes and fiber from blackberries support cardiovascular health.",
                image: "./Image/grape-blackberry velvet noire.jpg"
            },
            {
                id: 8,
                name: "Guava Passion Fruit Tropic Zing",
                description: "High in vitamin C and digestive enzymes to boost immunity and aid digestion.",
                image: "./Image/guava-passion fruit tropic zing.jpg"
            },
            {
                id: 9,
                name: "Kiwi Strawberry Tango Twist",
                description: "Kiwi provides vitamin K for bone health while strawberries offer anti-inflammatory benefits.",
                image: "./Image/kiwi-strawberry tango twist.jpg"
            },
            {
                id: 10,
                name: "Lemon Basil Fresh Zest",
                description: "Detoxifying properties with vitamin C to support liver function and overall wellness.",
                image: "./Image/lemon-basil fresh zest.jpg"
            },
            {
                id: 11,
                name: "Mint Melon Dew Drop",
                description: "Ultra-hydrating with electrolytes and cooling mint to aid digestion and refresh your body.",
                image: "./Image/mint-melon dew drop.jpg"
            },
            {
                id: 12,
                name: "Papaya Lime Tropic Wave",
                description: "Papain enzymes in papaya aid digestion while lime provides vitamin C for immune support.",
                image: "./Image/papaya-lime tropic wave.jpg"
            },
            {
                id: 13,
                name: "Peach Ginger Warm Hug",
                description: "Ginger soothes digestion while peaches provide vitamin A for healthy skin and eyes.",
                image: "./Image/peach-ginger warm hug.jpg"
            },
            {
                id: 14,
                name: "Pear Apple Cinnamon Cozy Sip",
                description: "Soluble fiber supports gut health while cinnamon helps regulate blood sugar levels.",
                image: "./Image/pear-apple-cinnamon cozy sip.jpg"
            },
            {
                id: 15,
                name: "Pineapple Coconut Beach Breeze",
                description: "Bromelain in pineapple reduces inflammation while coconut provides healthy fats.",
                image: "./Image/pineapple-coconut beach breeze.jpg"
            },
            {
                id: 16,
                name: "Raspberry Lime Fizz Sparkle",
                description: "Raspberries offer ellagic acid for cancer protection and lime provides vitamin C.",
                image: "./Image/raspberry-lime fizz sparkle.jpg"
            },
            {
                id: 17,
                name: "Strawberry Kiwi Sunrise Glow",
                description: "Collagen-boosting vitamin C for healthy skin, hair, and nails.",
                image: "./Image/strawberry-kiwi sunrise glow.jpg"
            },
            {
                id: 18,
                name: "Watermelon Lime Hydration Boost",
                description: "92% water content with electrolytes to keep you hydrated and support kidney function.",
                image: "./Image/watermelon-lime hydration boost.jpg"
            }
        ];

        // Shopping cart array
        let cart = [];

        // Generate product cards
        function generateProducts() {
            const container = document.getElementById('products-container');

            products.forEach(product => {
                const card = document.createElement('div');
                card.className = 'col-md-4 mb-4';
                card.innerHTML = `
                    <div class="card product-card h-100">
                        <img src="${product.image}" class="card-img-top" alt="${product.name}" style="height: 200px; object-fit: cover;">
                        <div class="card-body">
                            <h5 class="card-title">${product.name}</h5>
                            <p class="card-text health-benefit">${product.description}</p>
                            <button class="btn btn-primary view-product" data-id="${product.id}">View Details</button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });

            // Add event listeners to product buttons
            document.querySelectorAll('.view-product').forEach(button => {
                button.addEventListener('click', () => {
                    const productId = parseInt(button.getAttribute('data-id'));
                    openProductModal(productId);
                });
            });
        }

        // Open product modal with details
        function openProductModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            document.getElementById('modal-product-title').textContent = product.name;
            document.getElementById('modal-product-image').src = product.image;
            document.getElementById('modal-product-image').alt = product.name;
            document.getElementById('modal-product-description').textContent = product.description;

            // Set product ID in modal for add to cart functionality
            document.getElementById('add-to-cart').setAttribute('data-product-id', productId);

            // Reset form values
            document.querySelector('.cup-size[value="30"]').checked = true;
            document.getElementById('sugar-level').value = "0%";
            document.getElementById('ice-level').value = "0%";
            document.getElementById('special-message').value = "";
            document.getElementById('quantity').value = 1;

            // Update total
            updateModalTotal();

            // Show modal
            $('#productModal').modal('show');
        }

        // Update modal total based on selections
        function updateModalTotal() {
            const selectedSize = parseInt(document.querySelector('.cup-size:checked').value);
            const quantity = parseInt(document.getElementById('quantity').value);
            const total = selectedSize * quantity;
            document.getElementById('modal-total').textContent = total;
        }

        // Add item to cart
        function addToCart() {
            const productId = parseInt(document.getElementById('add-to-cart').getAttribute('data-product-id'));
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const selectedSize = document.querySelector('.cup-size:checked').nextElementSibling.textContent;
            const sizePrice = parseInt(document.querySelector('.cup-size:checked').value);
            const sugarLevel = document.getElementById('sugar-level').value;
            const iceLevel = document.getElementById('ice-level').value;
            const specialMessage = document.getElementById('special-message').value;
            const quantity = parseInt(document.getElementById('quantity').value);
            const total = sizePrice * quantity;

            // Create cart item
            const cartItem = {
                id: Date.now(), // Unique ID for cart item
                productId: product.id,
                name: product.name,
                size: selectedSize,
                sugar: sugarLevel,
                ice: iceLevel,
                message: specialMessage,
                quantity: quantity,
                price: sizePrice,
                total: total
            };

            // Add to cart
            cart.push(cartItem);

            // Update cart UI
            updateCart();

            // Close modal
            $('#productModal').modal('hide');

            // Show notification
            alert('Item added to cart!');
        }

        // Update cart UI
        function updateCart() {
            const cartItemsContainer = document.getElementById('cart-items');
            const cartCountElement = document.getElementById('cart-count');
            const cartTotalElement = document.getElementById('cart-total');
            const checkoutTotalElement = document.getElementById('checkout-total');
            const checkoutSummary = document.getElementById('checkout-summary');
            const checkoutBtn = document.getElementById('checkout-btn');

            // Update cart count
            const itemCount = cart.reduce((total, item) => total + item.quantity, 0);
            cartCountElement.textContent = itemCount;

            // Calculate total
            const total = cart.reduce((sum, item) => sum + item.total, 0);
            cartTotalElement.textContent = total;
            checkoutTotalElement.textContent = total;

            // Enable/disable checkout button
            checkoutBtn.disabled = cart.length === 0;

            // Clear containers
            cartItemsContainer.innerHTML = '';
            checkoutSummary.innerHTML = '';

            // If cart is empty
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p class="text-center text-muted">Your cart is empty</p>';
                return;
            }

            // Add items to cart modal and checkout summary
            cart.forEach(item => {
                // Cart item
                const cartItemElement = document.createElement('div');
                cartItemElement.className = 'cart-item';
                cartItemElement.innerHTML = `
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6>${item.name}</h6>
                            <small>${item.size} | Sugar: ${item.sugar} | Ice: ${item.ice}</small>
                            ${item.message ? `<small class="d-block">Message: ${item.message}</small>` : ''}
                            <small>Qty: ${item.quantity}</small>
                        </div>
                        <div class="d-flex align-items-center">
                            <span class="mr-3">HK$${item.total}</span>
                            <button class="btn btn-sm btn-danger remove-item" data-id="${item.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
                cartItemsContainer.appendChild(cartItemElement);

                // Checkout summary item
                const summaryItem = document.createElement('div');
                summaryItem.innerHTML = `
                    <small>${item.quantity} x ${item.name} (${item.size}) - HK$${item.total}</small>
                `;
                checkoutSummary.appendChild(summaryItem);
            });

            // Add event listeners to remove buttons
            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', () => {
                    const itemId = parseInt(button.getAttribute('data-id'));
                    removeFromCart(itemId);
                });
            });
        }

        // Remove item from cart
        function removeFromCart(itemId) {
            cart = cart.filter(item => item.id !== itemId);
            updateCart();
        }

        // Initialize event listeners
        function initEventListeners() {
            // Size selection change
            document.querySelectorAll('.cup-size').forEach(radio => {
                radio.addEventListener('change', updateModalTotal);
            });

            // Quantity change
            document.getElementById('quantity').addEventListener('input', updateModalTotal);

            // Add to cart button
            document.getElementById('add-to-cart').addEventListener('click', addToCart);

            // Checkout button
            document.getElementById('checkout-btn').addEventListener('click', () => {
                $('#cartModal').modal('hide');
                setTimeout(() => {
                    $('#checkoutModal').modal('show');
                }, 300);
            });

            // Place order button
            document.getElementById('place-order').addEventListener('click', () => {
                alert('Thank you for your order! This would normally process payment and confirm your order.');
                cart = [];
                updateCart();
                $('#checkoutModal').modal('hide');
            });
        }

        // Initialize the page
        function init() {
            generateProducts();
            generateShopQRCodes();
            initEventListeners();
            updateCart();
        }

        // Generate QR codes for each shop. Encodes an absolute URL to this page with ?shop=<name>
        function generateShopQRCodes() {
            // Map shop IDs to readable names/labels
            const shops = [
                { id: 'CausewayBay', label: 'Causeway Bay' },
                { id: 'MongKok', label: 'Mong Kok' },
                { id: 'Central', label: 'Central' }
            ];

            // Determine base URL - prefer the document location origin + pathname so links work locally when served
            const baseUrl = window.location.origin === 'null' ? window.location.href.split('?')[0] : window.location.origin + window.location.pathname;

            shops.forEach(shop => {
                const containerId = 'qr-' + shop.id;
                const container = document.getElementById(containerId);
                if (!container) return;

                // Create the URL to encode. We'll include a shop query parameter so ordering page can preselect the shop.
                const url = baseUrl + '?shop=' + encodeURIComponent(shop.id);

                // Clear any existing content
                container.innerHTML = '';

                // Create QR code (200x200)
                try {
                    new QRCodeStyling({
                            width: 300, // Width of the QR code
                            height: 300, // Height of the QR code
                            data: url, // The data to encode in the QR code
                            image: "./image/strawberry-juice.png", // Path to your logo image
                            dotsOptions: {
                                color: "black", // Color of the QR code dots
                                type: "square", // Shape of the QR code dots (e.g., "square", "dots", "rounded")
                            },
                            backgroundOptions: {
                            color: "#ffffff", // Background color of the QR code
                            },
                            imageOptions: {
                                hideBackgroundDots: true, // Hide dots behind the logo
                                imageSize: 0.4, // Size of the logo relative to the QR code
                                margin: 5, // Margin around the logo
                            },
                            }).append(container);
   
                } catch (e) {
                    // Fallback: show link text
                    const a = document.createElement('a');
                    a.href = url;
                    a.textContent = 'Order: ' + shop.label;
                    container.appendChild(a);
                }
            });

            // Wire order-online buttons to open the same encoded URL in a new tab
            document.querySelectorAll('.order-online').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const shopId = btn.getAttribute('data-shop');
                    const url = (window.location.origin === 'null' ? window.location.href.split('?')[0] : window.location.origin + window.location.pathname) + '?shop=' + encodeURIComponent(shopId);
                    // Open in new tab/window
                    window.open(url, '_blank');
                });
            });
        }

        // Run initialization when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>


</html>





